{% extends 'blog/base.html' %}

{% load static %}

{% block title %} Profile {% endblock title %}

<!-- Edit Username here to full name -->
{% block content %}
  {% if messages %}
    <div class="message-container">
      {% for message in messages %}
        <div class="message message-{{ message.tags }}">
          <p>{{ message }}</p>
          <span class="close">&times;</span>
        </div>
      {% endfor %}
    </div>
  {% endif %}
  <div class="container-acc pfl-col">
    <div class="pfl-col__header">
      <div class="pfl-col__img-container">
        <img src="{{ user_obj.profile.image.url }}" alt="profile image" class="pfl-col__img" />
      </div>
      <div class="pfl-col__user">
        <p class="username">{{ user_obj }}</p>
        <p class="email">{{ user_obj.email }}</p>
        {% if request.user == user_obj %}
          <a href="{% url 'userprofiles:profile_edit' username=request.user.username %}">Edit Profile</a>
        {% endif %}
      </div>
    </div>
    <div class="pfl-col__info">
      <div class="pfl-col__info-heading">
        <p>Activity Information</p>
      </div>
      <hr />
      <div class="form-row">
        <span>Drafted Posts:</span>
        <a href="#">{{ num_drafted }} Post{{ num_drafted|pluralize }}</a>
      </div>
      <div class="form-row">
        Published Posts: 
        <a href="{% url 'userprofiles:published_posts' username=user_obj.username %}">
          {{ num_published }} Post{{ num_published|pluralize }}
        </a>
      </div>
      <div class="form-row">
        Liked Posts: <a href="#">{{ num_liked }} Post{{ num_liked|pluralize }}</a>
      </div>
      <div class="form-row">
        Disliked Posts: <a href="#">{{ num_disliked }} Post{{ num_disliked|pluralize }}</a>
      </div>
    </div>
  </div>
{% endblock content %}

{% block script %}
  <script src="{% static 'js/main.js' %}"></script>
{% endblock script %}